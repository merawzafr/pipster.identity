# ====================================
# Pipster Identity Server - Production Environment
# ====================================
# CRITICAL: Never commit this file with real credentials
# Use Azure Key Vault or secure secrets management
# ====================================

# Environment
ASPNETCORE_ENVIRONMENT=Production

# PostgreSQL Database
# CRITICAL: Use strong passwords (min 32 chars, random)
POSTGRES_USER=pipster_production
POSTGRES_PASSWORD=CHANGE_ME_USE_AZURE_KEY_VAULT
POSTGRES_DB=pipster_identity_production

# Database Connection
DB_HOST=postgres  # Or Azure Database for PostgreSQL hostname
DB_PORT=5432
DB_NAME=pipster_identity_production
DB_USERNAME=pipster_production
DB_PASSWORD=CHANGE_ME_USE_AZURE_KEY_VAULT

# IdentityServer
IDENTITYSERVER_ISSUER_URI=https://identity.pipster.app
IDENTITYSERVER_PUBLIC_ORIGIN=https://identity.pipster.app

# Application Ports
IDENTITY_HTTP_PORT=443  # Production uses HTTPS
POSTGRES_PORT=5432

# Logging (minimal in production)
LOG_LEVEL=Warning
LOG_LEVEL_MICROSOFT=Error
LOG_LEVEL_DUENDE=Warning

# Health Checks
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=60s

# Docker
RESTART_POLICY=always

# Security (REQUIRED in production)
# Generate with: openssl rand -base64 32
JWT_SIGNING_KEY=CHANGE_ME_USE_AZURE_KEY_VAULT
DATA_PROTECTION_KEY=CHANGE_ME_USE_AZURE_KEY_VAULT

# Performance Tuning
DB_MAX_POOL_SIZE=100
DB_MIN_POOL_SIZE=10
DB_CONNECTION_LIFETIME=300

# ====================================
# PRODUCTION CHECKLIST
# ====================================
# [ ] All passwords changed from defaults
# [ ] JWT_SIGNING_KEY generated and secured
# [ ] DATA_PROTECTION_KEY generated and secured
# [ ] IDENTITYSERVER_ISSUER_URI matches domain
# [ ] SSL/TLS certificates configured
# [ ] Database backups configured
# [ ] Monitoring/alerting enabled
# [ ] Secrets stored in Azure Key Vault
# [ ] .env.production NOT committed to git
# ====================================